<?xml version="1.0" encoding="utf-8"?>
<Edmx:Edmx xmlns:Edmx="http://schemas.microsoft.com/ado/2007/06/edmx"
           Version="2.0">
  
  <Edmx:DataServices xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata">
    <Schema Namespace="rf.calculator" xmlns="http://schemas.microsoft.com/ado/2008/09/edm">
      
      <!-- Material EntityType -->
      <EntityType Name="Material">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property Name="Id" Type="Edm.Int32" Nullable="false"/>
        <Property Name="Name" Type="Edm.String" Nullable="false"/>
        <Property Name="Rarity" Type="Edm.Int32" Nullable="false"/>
        <Property Name="Category" Type="Edm.String" Nullable="false"/>
        <Property Name="Difficulty" Type="Edm.Int32" Nullable="false"/>
        <Property Name="StatInfo" Type="Edm.String" Nullable="true"/>
        <!-- <NavigationProperty Name="Drops" Relationship="rf.calculator.Material_Drops" FromRole="Material" ToRole="Drop"/> -->
      </EntityType>
      
      <!-- Drop EntityType (Virtual Entity) -->
      <EntityType Name="Drop">
        <NavigationProperty Name="Locations" Relationship="rf.calculator.Drop_Locations" FromRole="Drop" ToRole="Location"/>
        <NavigationProperty Name="Monsters" Relationship="rf.calculator.Drop_Monsters" FromRole="Drop" ToRole="Monster"/>
        <NavigationProperty Name="Other" Relationship="rf.calculator.Drop_Other" FromRole="Drop" ToRole="Other"/>
        <NavigationProperty Name="Fishing" Relationship="rf.calculator.Drop_Fishing" FromRole="Drop" ToRole="Fishing"/>
        <NavigationProperty Name="Chopping" Relationship="rf.calculator.Drop_Chopping" FromRole="Drop" ToRole="Chopping"/>
      </EntityType>
      
      <!-- Location EntityType -->
      <EntityType Name="Location">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property Name="Id" Type="Edm.Int32" Nullable="false"/>
        <Property Name="Name" Type="Edm.String" Nullable="false"/>
      </EntityType>

      <!-- Monster EntityType -->
      <EntityType Name="Monster">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property Name="Id" Type="Edm.Int32" Nullable="false"/>
        <Property Name="Name" Type="Edm.String" Nullable="false"/>
        <NavigationProperty Name="Locations" Relationship="rf.calculator.Monster_Locations" FromRole="Monster" ToRole="Location"/>
      </EntityType>

      <!-- Other EntityType -->
      <EntityType Name="Other">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property Name="Id" Type="Edm.Int32" Nullable="false"/>
        <Property Name="Name" Type="Edm.String" Nullable="false"/>
        <NavigationProperty Name="Locations" Relationship="rf.calculator.Other_Locations" FromRole="Other" ToRole="Location"/>
      </EntityType>

      <!-- Fishing EntityType -->
      <EntityType Name="Fishing">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property Name="Id" Type="Edm.Int32" Nullable="false"/>
        <Property Name="Location" Type="Edm.String" Nullable="false"/>
        <Property Name="Area" Type="Edm.String" Nullable="false"/>
      </EntityType>

      <!-- Chopping EntityType -->
      <EntityType Name="Chopping">
        <Key>
          <PropertyRef Name="Id"/>
        </Key>
        <Property Name="Id" Type="Edm.Int32" Nullable="false"/>
        <Property Name="Name" Type="Edm.String" Nullable="false"/>
      </EntityType>

      <!-- Associations -->
      <Association Name="Material_Drops">
        <End Role="Material" Type="rf.calculator.Material" Multiplicity="1"/>
        <End Role="Drop" Type="rf.calculator.Drop" Multiplicity="*"/>
      </Association>

      <Association Name="Drop_Locations">
        <End Role="Drop" Type="rf.calculator.Drop" Multiplicity="1"/>
        <End Role="Location" Type="rf.calculator.Location" Multiplicity="*"/>
      </Association>

      <Association Name="Drop_Monsters">
        <End Role="Drop" Type="rf.calculator.Drop" Multiplicity="1"/>
        <End Role="Monster" Type="rf.calculator.Monster" Multiplicity="*"/>
      </Association>

      <Association Name="Drop_Other">
        <End Role="Drop" Type="rf.calculator.Drop" Multiplicity="1"/>
        <End Role="Other" Type="rf.calculator.Other" Multiplicity="*"/>
      </Association>

      <Association Name="Drop_Fishing">
        <End Role="Drop" Type="rf.calculator.Drop" Multiplicity="1"/>
        <End Role="Fishing" Type="rf.calculator.Fishing" Multiplicity="*"/>
      </Association>

      <Association Name="Drop_Chopping">
        <End Role="Drop" Type="rf.calculator.Drop" Multiplicity="1"/>
        <End Role="Chopping" Type="rf.calculator.Chopping" Multiplicity="*"/>
      </Association>

      <!-- Entity Sets -->
      <EntitySet Name="Materials" EntityType="rf.calculator.Material"/>
      <EntitySet Name="Locations" EntityType="rf.calculator.Location"/>
      <EntitySet Name="Monsters" EntityType="rf.calculator.Monster"/>
      <EntitySet Name="Others" EntityType="rf.calculator.Other"/>
      <EntitySet Name="Fishings" EntityType="rf.calculator.Fishing"/>
      <EntitySet Name="Choppings" EntityType="rf.calculator.Chopping"/>
      <!-- <EntitySet Name="Drops" EntityType="rf.calculator.Drop"/> -->
    </Schema>
  </Edmx:DataServices>
</Edmx:Edmx>
